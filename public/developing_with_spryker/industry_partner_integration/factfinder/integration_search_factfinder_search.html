<!DOCTYPE html>
<html id="spryker-academy" lang="en-us" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Developing with Spryker|Industry Partner Integration|Search Integration - FACT-Finder">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0" />
        <meta name="author" content="Spryker Systems GmbH" />
        <meta name="title" content="Spryker Academy" />
        <meta name="msapplication-config" content="/resources/ui/images/favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="/resources/ui/images/favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="/resources/ui/images/favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="/resources/ui/images/favicons/favicon-16x16.png" />
        <!-- Google Tag Manager -->
        <script>/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NP24S2');/*]]>*/</script>
        <!-- End Google Tag Manager --><title>FACT-Finder - Search</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <style>@import url('https://fonts.googleapis.com/css?family=Lato:300,400,400i,900');

</style>
        <link href="/resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="/resources/ui/css/academy-ui-app.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="t-base t-base--page js-base-template">
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NP24S2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
        </noscript>
        <!-- End Google Tag Manager (noscript) -->
        <div class="t-base__header">
            <header class="o-header">
                <div class="o-header__content g-grid g-grid--container g-grid--middle"><a class="m-logo g-col g-col--sm-10 g-col--lg-2" href="/"><img class="m-logo__image" src="/resources/ui/images/logo.png" alt="Spryker Logo" /></a>
                    <nav class="m-nav-top g-col g-col--sm-2 g-col--lg-10" id="nav-top">
                        <div class="u-is-hidden--sm-xl">
                            <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </div>
                        <div class="u-is-hidden--xl"><a class="m-nav-top__toggler js-base-template__toggler" href="#"><span class="icon icon-bars"></span></a>
                        </div>
                    </nav>
                </div>
            </header>
        </div>
        <div class="t-base__frame">
            <section class="o-search">
                <div class="g-grid g-grid--container">
                    <section class="m-search g-col g-col--sm-12">
                        <form action="/search.html" method="GET">
                            <input class="a-input a-input--expanded m-search__input" placeholder="Search in the Academy..." name="q" />
                            <button class="m-search__submit" type="submit"><span class="icon icon-search"></span>
                            </button>
                        </form>
                    </section>
                </div>
            </section>
            <section class="t-base__widgets g-grid g-grid--container g-grid--middle">
                <section class="m-breadcrumbs g-col g-col--sm-12 g-col--xl-8">
                    <div class="nocontent">
                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                        </div>
                    </div>
                </section>
                <div class="g-col g-col--sm-12 g-col--xl-4 u-align-right">
                    <section class="m-widget-toolbar">
                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_topic_toolbar mc-component nocontent">
                            <div class="button-group-container-left">
                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                </button>
                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                </button>
                                <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                </button>
                                <button class="button needs-pie print-button" title="Print">
                                    <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                </button>
                            </div>
                        </div>
                    </section>
                    <div class="m-widget-github js-widget-github"><a class="m-widget-github__link icon icon-github js-widget-github__link" href="https://github.com/spryker/spryker-academy" target="_blank"></a>
                    </div>
                </div>
            </section>
            <main class="t-base__main g-grid g-grid--container">
                <div class="g-col g-col--sm-12 u-is-hidden--xl">
                    <div class="m-accordion js-accordion">
                        <div class="m-accordion__header">
                            <div class="m-accordion__title js-accordion__toggler"><span class="icon icon-ellipsis-v icon--left"></span>
                    Navigation
                </div>
                        </div>
                        <div class="m-accordion__content js-accordion__content">
                            <nav class="m-nav-sidebar" id="nav-sidebar">
                                <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="t-page-sidebar__content o-content g-col g-col--sm-12 g-col--xl-8 js-anchorer js-highlighter js-widget-copy">
                    <h1>FACT-Finder - Search</h1>
                    <h2>Prerequisites </h2>
                    <p>FACT-Finder suggests error-tolerant on-site search. The online shop’s search function is its most powerful sales tool.</p>
                    <p>FACT-Finder delivers relevant results even when spelling errors and typos occur.</p>
                    <h2>Usage</h2>
                    <p>By default, you can use the <var>/fact-finder</var> route to see an example catalog page. Another option is to use FactFinderSdk module client to request FACT-Finder API. All parameters from <var>GET</var> request will be sent to the FACT-Finder API.</p>
                    <p>As a response, you'll receive a <var>FactFinderSdkSearchResponseTransfer</var> object that contains data, after search navigation, bread crumbs, paging.</p>
                    <p>Basic parameters:</p>
                    <ul>
                        <li value="1"><var>query</var> - The search term indicates the term or phrase that is to be used to search in the FACT- Finder database.</li>
                        <li value="2"><var>channel</var> -  If your search environment consists of multiple channels, you can define  what channel to search here. If no channel is specified, the first channel in the channel list is used.</li>
                        <li value="3"><var>page</var> -  If a search result contains many results, they will be divided into pages. It limits the amount of data that has to be sent in one go. You can indicate what page should be returned. Page numbering starts with 1.</li>
                        <li value="4"><var>productsPerPage</var> - In the FACT-Finder Management Interface, you can define the number of results that will be returned on a page by default. To change the number, you can set it with this parameter.</li>
                        <li value="5"><var>sort</var> - By default, the result that is returned has been sorted for relevance. However, you can specify a different sort order here.</li>
                        <li value="6"><var>filter</var> - When a filter parameter is sent to FACT-Finder, the Search engine only returns results that correspond to the filter indicated.</li>
                        <li value="7"><var>searchField</var> -  Normally FACT-Finder searches all fields defined as searchable. However, it is possible to search only one specific field as well.</li>
                        <li value="8"><var>noArticleNumberSearch</var> - Normally an article number search is carried out if the search term matches one or more set formats. You can also use parameters to prevent an article number search from being carried out.</li>
                        <li value="9"><var>sid</var> - Session ID.</li>
                        <li value="10"><var>useAsn</var> - Controls whether or not the ASN (after-search navigation block) is created.</li>
                        <li value="11"><var>useFoundWords</var> - FACT-Finder is able to return the words that were used to find the data record for the located records.</li>
                        <li value="12"><var>useCampaigns</var> - If you want to prevent the Campaign Manager from checking whether the search query matches a campaign, use this parameter.</li>
                        <li value="13"><var>navigation</var> - FACT-Finder can also replicate your entire shop navigation.</li>
                        <li value="14"><var>idsOnly</var> - The result normally contains all field information about the products that have been found.</li>
                        <li value="15"><var>generateAdvisorTree</var> - This parameter is used in conjunction with advisor campaigns.</li>
                        <li value="16"><var>disableCache</var> - This parameter controls whether or not the search result cache is used.</li>
                        <li value="17"><var>followSearch</var> - The parameter is automatically attached to all follow-up parameter sets of a search result. The parameter must not be passed on initial requests.</li>
                        <li value="18"><var>usePersonalization</var> - Allows the activation / deactivation of the queries personalization.</li>
                        <li value="19"><var>useSemanticEnhancer</var> - Allows activation / deactivation of the semantic enhancement of queries.</li>
                        <li value="20"><var>useAso</var> - Allows the activation / deactivation of the automatic search optimization.</li>
                    </ul>
                    <p>Controller example:</p>
                    <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Click here to expand the code sample</a></span>
                        <div class="MCDropDownBody dropDownBody"><pre><code class="bash">&lt;?php

...

    /**
     * @param \Symfony\Component\HttpFoundation\Request $request
     *
     * @return array
     */
    public function indexAction(Request $request)
    {
        $factFinderSearchRequestTransfer = new FactFinderSdkSearchRequestTransfer();
        $requestArray = $request-&gt;query-&gt;all();

        $factFinderSearchRequestTransfer-&gt;setRequest($requestArray);

        $ffSearchResponseTransfer = $this-&gt;getFactory()
            -&gt;getFactFinderClient()
            -&gt;search($factFinderSearchRequestTransfer);


        if ($ffSearchResponseTransfer-&gt;getCampaignIterator()-&gt;getHasRedirect()) {
            return $this-&gt;redirectResponseExternal($ffSearchResponseTransfer-&gt;getCampaignIterator()-&gt;getRedirectUrl());

        }

        $feedbackForm = $this-&gt;getFactory()
            -&gt;createFeedbackForm();

        if (!$ffSearchResponseTransfer-&gt;getResult()) {
            $this-&gt;addErrorMessage('Search is not available at the moment');
        }

        return [
            'searchResponse' =&gt; $ffSearchResponseTransfer,
            'pagingRote' =&gt; 'fact-finder',
            'lang' =&gt; Store::getInstance()-&gt;getCurrentLanguage(),
            'query' =&gt; isset($requestArray['query']) ? $requestArray['query'] : '',
            'page' =&gt; isset($requestArray['page']) ? $requestArray['page'] : '',
            'feedbackForm' =&gt; $feedbackForm-&gt;createView(),
        ];
    }

...</code></pre>
                        </div>
                    </div>
                    <p>The FactFinder module includes templates. Templates can be used for changing the default partial templates in the following way:</p>
                    <p>In <var>src/Pyz/Yves/Catalog/Theme/default/catalog/catalog.twig</var> you can put:</p><pre><code class="bash">{% include '@FactFinder/layout/catalog/filters.twig' with {
    afterSearchNavigation: factFinderSearchResponse.getAfterSearchNavigation
} %}

{% include '@FactFinder/layout/partials/sort.twig' %}

{% include '@FactFinder/search/partials/pagination.twig' with {
            showAlwaysFirstAndLast: true
        } %}</code></pre>
                    <p>And so on. </p>
                    <p>According to the template examples, you can set up default demoshop template for using FACT-Finder responses.</p>
                    <h2>After Search</h2>
                    <p><var>FactFinderSdkSearchResponseTransfer</var> has campaign iterator, bread crumbs, paging, search result, sorting parameters,
            result per page option, filter groups.
        </p>
                    <p>You can build any front end and templates using those options in the response transfer object.</p>
                    <h3>Filter Groups</h3>
                    <p>Default settings in the FACT-Finder admin panel are:</p>
                    <p>For categories filter:</p>
                    <ul>
                        <li value="1">Source field - <var>CategoryPath</var></li>
                        <li value="2">Field type - <var>CategoryPath</var></li>
                    </ul>
                    <p>For price filter:</p>
                    <ul>
                        <li value="1">Source field - Price</li>
                        <li value="2">Field type - Number</li>
                        <li value="3">Range type - Slider</li>
                    </ul>
                    <p>For stock filter:</p>
                    <ul>
                        <li value="1">Source field - Stock</li>
                        <li value="2">Field type - Text</li>
                        <li value="3">Selection Type - Multi-select</li>
                    </ul>
                    <p>Filter groups have the following options (name - type):</p>
                    <ul>
                        <li value="1">filters - <var>FactFinderSdkDataFilter[]</var></li>
                        <li value="2">name - string</li>
                        <li value="3"><var>detailedLinkCount</var> - int</li>
                        <li value="4">unit - string</li>
                        <li value="5"><var>isRegularStyle</var> - bool</li>
                        <li value="6"><var>isSliderStyle</var> - bool</li>
                        <li value="7"><var>isTreeStyle</var> - bool</li>
                        <li value="8"><var>isMultiSelectStyle</var> - bool</li>
                        <li value="9"><var>hasPreviewImages</var> - bool</li>
                        <li value="10"><var>hasSelectedItems</var> - bool</li>
                        <li value="11"><var>isSingleHideUnselectedType</var> - bool</li>
                        <li value="12"><var>isSingleShowUnselectedType</var> - bool</li>
                        <li value="13"><var>isMultiSelectOrType</var> - bool</li>
                        <li value="14"><var>isMultiSelectAndType</var> - bool</li>
                        <li value="15"><var>isTextType</var> - bool</li>
                        <li value="16"><var>isNumberType</var> - bool</li>
                    </ul>
                    <p>Filter has the following options (name - type):</p>
                    <ul>
                        <li value="1">item - <var>FactFinderSdkDataItem</var></li>
                        <li value="2"><var>fieldName</var> - string</li>
                        <li value="3"><var>matchCount</var> - int</li>
                        <li value="4"><var>clusterLevel</var> - int</li>
                        <li value="5"><var>previewImage</var> - string</li>
                        <li value="6"><var>hasPreviewImage</var> - bool</li>
                        <li value="7"><var>absoluteMinimum</var> - string</li>
                        <li value="8"><var>absoluteMaximum</var> - string</li>
                        <li value="9"><var>selectedMinimum</var> - string</li>
                        <li value="10"><var>selectedMaximum</var> - string</li>
                    </ul>
                    <h3>Bread Crumbs</h3>
                    <p>Bread crumbs have following options (name - type):</p>
                    <ul>
                        <li value="1">item - <var>FactFinderSdkDataItem</var></li>
                        <li value="2"><var>isSearchBreadCrumb</var> - bool</li>
                        <li value="3"><var>isFilterBreadCrumb</var> - bool</li>
                        <li value="4"><var>fieldName</var> - string</li>
                    </ul>
                    <h3>Paging</h3>
                    <p>Paging has the following options (name - type):</p>
                    <ul>
                        <li value="1"><var>pageCount</var> - int</li>
                        <li value="2"><var>firstPage</var> - <var>FactFinderSdkDataPage</var></li>
                        <li value="3"><var>lastPage</var> - <var>FactFinderSdkDataPage</var></li>
                        <li value="4"><var>previousPage</var> - <var>FactFinderSdkDataPage</var></li>
                        <li value="5"><var>currentPage</var> - <var>FactFinderSdkDataPage</var></li>
                        <li value="6"><var>nextPage</var> - <var>FactFinderSdkDataPage</var></li>
                    </ul>
                    <p>Data page has the following options (name - type):</p>
                    <ul>
                        <li value="1">item - <var>FactFinderSdkDataItem</var></li>
                        <li value="2"><var>pageNumber</var> - int</li>
                    </ul>
                    <p>Data item has the following options (name - type):</p>
                    <ul>
                        <li value="1">label - string</li>
                        <li value="2">url - string</li>
                        <li value="3">selected - bool</li>
                    </ul>
                    <h3>Sorting Options</h3>
                    <p>Is array of data items.</p>
                    <p>&#160;</p>
                    <p><b>See also:</b>
                    </p>
                    <ul>
                        <li value="1"><a href="integration_search_factfinder.html">Get a general idea about FACT-Finder</a>
                        </li>
                        <li value="2"><a href="integration_search_factfinder_recommendation.html">Configure FACT-Finder recommendations widget</a>
                        </li>
                        <li value="3"><a href="integration_search_factfinder_suggest.html">Configure FACT-Finder Suggest module</a>
                        </li>
                        <li value="4"><a href="integration_search_factfinder_campaigns.html">Configure FACT-Finder Campaign Manager module</a>
                        </li>
                        <li value="5"><a href="integration_search_factfinder_tracking.html">Learn more about FACT-Finder tracking system</a>
                        </li>
                        <li value="6"><a href="integration_search_factfinder_export_csv.html">Learn how to export CSVs to FACT-Finder</a>
                        </li>
                    </ul>
                    <p>&#160;</p>
                    <p><i>Last review date: Dec. 22nd, 2017</i>
                    </p>
                </div>
                <div class="t-page-sidebar__sidebar g-col g-col--sm-12 g-col--xl-4 u-is-hidden--sm-xl">
                    <section class="a-box a-box--shadow">
                        <nav class="m-nav-sidebar" id="nav-sidebar">
                            <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </nav>
                    </section>
                </div>
            </main>
            <div class="t-base__footer">
                <footer class="o-footer g-grid g-grid--middle">
                    <nav class="g-grid g-grid--container g-grid--center"><a class="o-footer__link" href="https://spryker.com/privacy-policy" target="_blank">Privacy policy</a><a class="o-footer__link" href="https://spryker.com/partneragb" target="_blank">AGB Partnerprogram</a><a class="o-footer__link" href="https://spryker.com/impressum" target="_blank">Impressum</a>
                    </nav>
                </footer>
            </div><a class="a-scroll-top js-scroll-top" href="#"><span class="a-scroll-top__icon icon icon-chevron-up"></span></a>
            <div class="t-base__overlay js-base-template__toggler">
            </div>
        </div>
        <div class="t-base__off">
            <section class="o-off-canvas">
                <nav class="m-nav-mobile" id="nav-mobile">
                    <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    </ul>
                </nav>
            </section>
        </div>
        <script src="/resources/ui/js/academy-ui-manifest.js">
        </script>
        <script src="/resources/ui/js/academy-ui-vendor.js">
        </script>
        <script src="/resources/ui/js/academy-ui-app.js">
        </script>
    </body>
</html>