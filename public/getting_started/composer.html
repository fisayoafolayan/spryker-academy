<!DOCTYPE html>
<html id="spryker-academy" lang="en-us" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Getting Started">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0" />
        <meta name="author" content="Spryker Systems GmbH" />
        <meta name="title" content="Spryker Academy" />
        <meta name="msapplication-config" content="/resources/ui/images/favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="/resources/ui/images/favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="/resources/ui/images/favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="/resources/ui/images/favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="/resources/ui/images/favicons/favicon-16x16.png" />
        <!-- Google Tag Manager -->
        <script>/*<![CDATA[*/(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NP24S2');/*]]>*/</script>
        <!-- End Google Tag Manager --><title>Composer</title>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <style>@import url('https://fonts.googleapis.com/css?family=Lato:300,400,400i,900');

</style>
        <link href="/resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <link href="/resources/ui/css/academy-ui-app.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../resources/ui/css/academy-ui-typography.css" rel="stylesheet" />
        <script src="../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../Resources/Scripts/require.min.js">
        </script>
        <script src="../Resources/Scripts/require.config.js">
        </script>
        <script src="../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body class="t-base t-base--page js-base-template">
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NP24S2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
        </noscript>
        <!-- End Google Tag Manager (noscript) -->
        <div class="t-base__header">
            <header class="o-header">
                <div class="o-header__content g-grid g-grid--container g-grid--middle"><a class="m-logo g-col g-col--sm-10 g-col--lg-2" href="/"><img class="m-logo__image" src="/resources/ui/images/logo.png" alt="Spryker Logo" /></a>
                    <nav class="m-nav-top g-col g-col--sm-2 g-col--lg-10" id="nav-top">
                        <div class="u-is-hidden--sm-xl">
                            <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </div>
                        <div class="u-is-hidden--xl"><a class="m-nav-top__toggler js-base-template__toggler" href="#"><span class="icon icon-bars"></span></a>
                        </div>
                    </nav>
                </div>
            </header>
        </div>
        <div class="t-base__frame">
            <section class="o-search">
                <div class="g-grid g-grid--container">
                    <section class="m-search g-col g-col--sm-12">
                        <form action="/search.html" method="GET">
                            <input class="a-input a-input--expanded m-search__input" placeholder="Search in the Academy..." name="q" />
                            <button class="m-search__submit" type="submit"><span class="icon icon-search"></span>
                            </button>
                        </form>
                    </section>
                </div>
            </section>
            <section class="t-base__widgets g-grid g-grid--container g-grid--middle">
                <section class="m-breadcrumbs g-col g-col--sm-12 g-col--xl-8">
                    <div class="nocontent">
                        <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                        </div>
                    </div>
                </section>
                <div class="g-col g-col--sm-12 g-col--xl-4 u-align-right">
                    <section class="m-widget-toolbar">
                        <div class="buttons popup-container clearfix topicToolbarProxy _Skins_topic_toolbar mc-component nocontent">
                            <div class="button-group-container-left">
                                <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                    <img src="../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                </button>
                                <button class="button needs-pie next-topic-button" title="Navigate next">
                                    <img src="../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                </button>
                                <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                    <img src="../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                </button>
                                <button class="button needs-pie print-button" title="Print">
                                    <img src="../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                </button>
                            </div>
                        </div>
                    </section>
                    <div class="m-widget-github js-widget-github"><a class="m-widget-github__link icon icon-github js-widget-github__link" href="https://github.com/spryker/spryker-academy" target="_blank"></a>
                    </div>
                </div>
            </section>
            <main class="t-base__main g-grid g-grid--container">
                <div class="g-col g-col--sm-12 u-is-hidden--xl">
                    <div class="m-accordion js-accordion">
                        <div class="m-accordion__header">
                            <div class="m-accordion__title js-accordion__toggler"><span class="icon icon-ellipsis-v icon--left"></span>
                    Navigation
                </div>
                        </div>
                        <div class="m-accordion__content js-accordion__content">
                            <nav class="m-nav-sidebar" id="nav-sidebar">
                                <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <div class="t-page-sidebar__content o-content g-col g-col--sm-12 g-col--xl-8 js-anchorer js-highlighter js-widget-copy">
                    <h1>Composer</h1>
                    <p>Spryker Commerce OS uses <a href="https://getcomposer.org/">Composer</a> as a dependency manager. Composer allows declaring the libraries your project depends on and the versions required as well as it will manage them for you. Composer is downloaded as <var>composer.phar</var> file (PHP archive). To start using Composer in your project, all you need is a <var>composer.json</var> file. The file defines the required dependencies and is located in the root folder of the project. </p>
                    <p><span class="info">Root folder is the main folder that includes all your project files.</span>
                    </p>
                    <p> Spryker Commerce OS consists of a number of independent components. Each of them has a dedicated Git repository. Every module contains its own <var>composer.json</var> that defines its dependencies:</p><pre xml:space="preserve"><code class="bash">
{
"name": "spryker/cart",
"description": "Cart module",
"license": "proprietary",
"require": {
"php": "&gt;=7.1",
"spryker/calculation": "^4.0.0",
"spryker/cart-extension": "^1.1.0",
"spryker/kernel": "^3.19.0",
"spryker/messenger": "^3.0.0",
"spryker/quote": "^2.0.0",
"spryker/zed-request": "^3.0.0"
}
</code></pre>
                    <p> You can check the current <var>composer.json</var> file in the corresponding <a href="https://github.com/spryker/cart">repository of the cart module</a>.</p>
                    <p>In the project level <var>composer.json</var> file you can specify the components that you want to use along with their versions like it is done in our <a href="https://github.com/spryker/demoshop/blob/master/composer.json">Demoshop</a>:</p><pre xml:space="preserve"><code class="bash">
...
"spryker/auth": "^3.0.0",
"spryker/auth-mail-connector": "^3.0.0",
"spryker/availability": "^6.0.0",
"spryker/availability-cart-connector": "^4.0.0",
"spryker/availability-data-feed": "^0.1.0",
"spryker/availability-gui": "^3.0.0",
"spryker/braintree": "^0.5.0",
"spryker/cache": "^3.0.0",
"spryker/calculation": "^4.0.0",
"spryker/cart": "^5.0.0",
"spryker/cart-currency-connector": "^1.0.0",
"spryker/cart-extension": "^1.0.0",
"spryker/cart-note": "^0.1.0",
"spryker/cart-note-extension": "^1.0.0"
...
</code></pre>
                    <p> For a detailed explanation on how to manage module versions see, <a href="../understanding_spryker/atomic_releases.html#Versioni">Versioning</a>.</p>
                    <h2>Core Updates</h2>
                    <p>Pulling hundreds of composer dependencies declared in <var>composer.json</var> file takes time and can be tricky sometimes. On the one hand, you want your system to have all the newest functionality and improvements, but on the other hand, you might be reluctant to invest additional development effort into the updates. While minor updates do not affect compatibility, that might not be the case for major updates. Check the recommendations below in order to perform the core updates smoothly.</p>
                    <ul>
                        <li value="1"><b>Stay Up-to-Date with the New Features</b>
                            <br />First of all, make sure you do not miss our two-weekly release mail newsletter (<a href="https://now.spryker.com/release-notes">subscribe</a> to them and be well informed). Staying up-to-date with the improvements and the new features will help you to understand what releases will bring business value to your company. It’s not recommended to take all major releases or the new modules just because they exist. Once you have taken a module, keep on following the release notes for minor releases and patches and incorporate them once they come out. This method of continuous updates should help to prevent the likelihood of incompatibility and breaks in your project. Always think of the business value you gain from the update, as updates always take some time and it’s up to you to decide if the migration effort is justified in your specific case.<br /><br /></li>
                        <li value="2"><b>Know What You Have</b>
                            <br />We update dependencies based on <a href="../understanding_spryker/atomic_releases.html#top">Atomic Release process</a>. To check what you have installed you can use the <var>composer.lock</var> file, that reflects the real status of your installation. <var>composer.lock</var> file can also be found in project’s root folder.<br /><br /></li>
                        <li value="3"><b>Check for Newer Module Versions</b>
                            <br />You can easily keep track of new module versions <a href="https://github.com/Soullivaneuh/composer-versions-check">using composer-versions-check</a> as add-on for your local composer tool. It will warn you about outdated Spryker Commerce OS module dependencies.</li>
                    </ul>
                    <p>To install the composer version checker inside your VM run the following command:</p><pre xml:space="preserve"> <code class="bash">composer global require sllh/composer-versions-check</code></pre>
                    <p>After composer update finishes, it will output the warning to help keeping track of the upgrades:</p><pre xml:space="preserve"><code class="bash">
{count} packages are not up to date:

- spryker/{module-name} (2.0.2) latest is 3.0.0
...
</code></pre>
                    <p>That means that you are currently running version 2.0.2 of the module, and a new major version 3.0.0 of this module is available.</p>
                    <p class="tip">Make sure every minor or patch release is applied before upgrading to a major released version.</p>
                    <p>To update all the modules, run the following command:</p><pre><code class="bash">composer update "spryker/*"</code></pre>
                    <p>This will fetch the latest matching versions (according to your <var>composer.json</var> file) and update the lock file with the new versions.</p>
                    <p>To check what major updates are available without changing <var>composer.json</var>, run:<pre><code class="bash">php composer.phar outdated</code></pre></p>
                    <p>Just for the modules that have been extended (factory and classes have been overwritten) the version number needs to be changed and updates need to be performed manually.</p>
                    <p>To speed up the composer update process, use the <a href="https://github.com/hirak/prestissimo">Prestissimo Composer tool</a>. It will speed up the execution of the <var>composer update</var> and or <var>composer install</var> commands both for local development and in server deployments.</p>
                    <p><var class="info"><var>composer install</var> command will install the defined dependencies for your project.</var>
                    </p>
                    <p>To install the tool, run:<pre><code class="bash">composer global require hirak/prestissimo</code></pre></p>
                    <p>Execute  <var>composer update</var> command at least weekly to assert you have the latest fixes.
</p>
                    <h2>Replace Spryker Module Dependencies</h2>
                    <p>Each Spryker module might have several dependent modules that provide communication, utilities and added functionality. For example, <var>spryker/product</var> needs a dependent <var>spryker/product-label</var> module as the product label cannot be attached when there is no product itself. Usually, adjustments are done via our <a href="../developing_with_spryker/resources_and_developer_tools/plugin.html">plugin mechanism</a> or via class extensions. However, when introducing a massive functional change, you may need to replace an entire core module with one of your own (or a 3rd party). To do so, there are two steps that you need to follow. Firstly, you will need <b>to replace the module</b>, and secondly, <b>connect the module to the new functionality</b>.</p>
                    <p>The following process describes adding a replace command into a new module to indicate that it replaces a core module.</p>
                    <p>For each module that you want to add:</p>
                    <ul style="list-style-type: circle;">
                        <li value="1">Replace the old module with the new one by creating a dummy module repository in a directory accessible to composer.</li>
                        <ol>
                            <li value="1">Name or rename the new module by using the old module’s name and prefixing it with <var>replace_</var>. For example, create a dummy file called <var>replace_refund</var> to replace the refund module. This will help to keep track of any replaces you do in the project.</li>
                            <li value="2">In the newly created dummy module directory, create an empty <var>composer.json</var> file and add the following Composer Configuration Information.</li>
                            <li value="3">Add the newly created module to your project’s <var>composer.json</var> file by going into your project’s <var>composer.json</var> and adding the new location.</li>
                            <li value="4">Check if the core module is in your project’s <var>composer.json</var> file and if it is, remove it.</li>
                        </ol>
                        <li value="2">Execute composer update with the replace module name:<pre><code class="bash">composer update "replace_*the name of the module you are replacing*</code></pre></li>
                        <p>Running composer update will remove all mentions of the module (for example: refund) and replace it with your module (for example: replace_refund).</p>
                    </ul>
                    <p>For more information on using the composer replace command check <a href="https://getcomposer.org/doc/04-schema.md#replace">Composer website</a>.</p><pre xml:space="preserve"><code class="bash">
{
"name": “[vendor]/ replace_[the name of the module you are replacing] ",
"replace": {
"spryker/[the name of the module you are replacing] ":"*"
},
"description": “[add_decription_of_what_you_are_replacing]"			
}
	</code></pre>
                    <p>If you added a replace module, navigate to <var>vendor/spryker/</var> and check that composer added the new <var>replace_</var> module/s to this directory.</p>
                    <p><b>To check this worked:</b>
                    </p>
                    <p>Navigate to <var>[ROOT]/vendor/spryker/</var> and check that composer removed the modules that needed to be replaced from the directory. The next step is to connect the module to your new functionality.</p>
                    <h3>Setting Up Connection With the New Functionality</h3>
                    <p>Now that we have replaced a core module with a different one, we need to connect the rest of the OS to it.</p>
                    <p><span class="tip">To set up connectivity, check the usage of the replaced module and adapt the logic to the new module.</span>
                    </p>
                    <p>For further assistance on project level implementations, email us <a href="mailto:support@spryker.com">support@spryker.com</a>.</p>
                </div>
                <div class="t-page-sidebar__sidebar g-col g-col--sm-12 g-col--xl-4 u-is-hidden--sm-xl">
                    <section class="a-box a-box--shadow">
                        <nav class="m-nav-sidebar" id="nav-sidebar">
                            <ul class="nocontent menu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                            </ul>
                        </nav>
                    </section>
                </div>
            </main>
            <div class="t-base__footer">
                <footer class="o-footer g-grid g-grid--middle">
                    <nav class="g-grid g-grid--container g-grid--center"><a class="o-footer__link" href="https://spryker.com/privacy-policy" target="_blank">Privacy policy</a><a class="o-footer__link" href="https://spryker.com/partneragb" target="_blank">AGB Partnerprogram</a><a class="o-footer__link" href="https://spryker.com/impressum" target="_blank">Impressum</a>
                    </nav>
                </footer>
            </div><a class="a-scroll-top js-scroll-top" href="#"><span class="a-scroll-top__icon icon icon-chevron-up"></span></a>
            <div class="t-base__overlay js-base-template__toggler">
            </div>
        </div>
        <div class="t-base__off">
            <section class="o-off-canvas">
                <nav class="m-nav-mobile" id="nav-mobile">
                    <ul class="nocontent menu mc-component" data-mc-linked-toc="Data/Tocs/spryker_content.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                    </ul>
                </nav>
            </section>
        </div>
        <script src="/resources/ui/js/academy-ui-manifest.js">
        </script>
        <script src="/resources/ui/js/academy-ui-vendor.js">
        </script>
        <script src="/resources/ui/js/academy-ui-app.js">
        </script>
    </body>
</html>